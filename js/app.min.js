(()=>{"use strict";const r=()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)};function a(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var r="";null!=(""==e.val()||(e.val(),e.attr("data-value")),r=e.data("error"))&&e.parent().append('<div class="form__error">'+r+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");e.parents(".select-block").length>0&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function t(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),e.parents(".select-block").length>0&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}r(),window.addEventListener("resize",(()=>{r()})),$(".filter__item").click((function(e){var r=$(this).data("filter");return 1==r?$(".portfolio__column").show():($(".portfolio__column").hide(),$(".portfolio__column.f_"+r).show()),$(".filter__item").removeClass("active"),$(this).addClass("active"),!1})),$(window).scroll((function(e){var r=0-$(this).scrollTop()/1.5;$(".mainpage__image").css("transform","translate3d(0, "+r+"px, 0)")})),$(".goto").click((function(){var e=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+e).offset().top+0},500,(function(){})),$(".menu__body").hasClass("active")&&($(".menu__body,.icon-menu").removeClass("active"),$("body").removeClass("lock")),!1})),$("form button[type=submit]").click((function(){var e=0,r=$(this).parents("form"),n=r.data("ms");return $.each(r.find(".req"),(function(r,n){e+=function(e){var r=0,n=e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var o=e.val().replace(" ","");e.val(o)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.val())&&e.val()!=e.attr("data-value")?t(e):(r++,a(e))}else""==e.val()||e.val()==e.attr("data-value")?(r++,a(e)):t(e);return"checkbox"==e.attr("type")&&(1==e.prop("checked")?e.removeClass("err").parent().removeClass("err"):(r++,e.addClass("err").parent().addClass("err"))),e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(r++,a(e))),e.hasClass("pass-2")&&(n.find(".pass-1").val()!=n.find(".pass-2").val()?a(e):t(e)),r}($(this))})),0==e&&(function(e){e.find(".form__generalerror").hide().html("")}(r),null!=n&&""!=n?(function(e){$(".popup").hide(),popupOpen("message."+e,"")}(n),!1):void 0)}));var n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}};if(n.any(),location.hash){var o=location.hash.replace("#","");$(".popup-"+o).length>0?popupOpen(o):$("div."+o).length>0&&$("body,html").animate({scrollTop:$("div."+o).offset().top},500,(function(){}))}$(".wrapper").addClass("loaded"),n.iOS();let s=document.querySelector(".icon-menu"),i=document.querySelector("body"),l=document.querySelector(".menu__body");s&&s.addEventListener("click",(function(){s.classList.toggle("active"),i.classList.toggle("lock"),l.classList.toggle("active")}))})();

(()=>{"use strict";var e;function a(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var a="";null!=(""==e.val()||(e.val(),e.attr("data-value")),a=e.data("error"))&&e.parent().append('<div class="form__error">'+a+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");e.parents(".select-block").length>0&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function r(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),e.parents(".select-block").length>0&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}e=$(window).outerHeight(),$(".mainpage, .mainpage__image").css("min-height",e),$(".filter__item").click((function(e){var a=$(this).data("filter");return 1==a?$(".portfolio__column").show():($(".portfolio__column").hide(),$(".portfolio__column.f_"+a).show()),$(".filter__item").removeClass("active"),$(this).addClass("active"),!1})),$(window).scroll((function(e){var a=0-$(this).scrollTop()/1.5;$(".mainpage__image").css("transform","translate3d(0, "+a+"px, 0)")})),$(".goto").click((function(){var e=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+e).offset().top+0},500,(function(){})),$(".menu__body").hasClass("active")&&($(".menu__body,.icon-menu").removeClass("active"),$("body").removeClass("lock")),!1})),$("form button[type=submit]").click((function(){var e=0,t=$(this).parents("form"),n=t.data("ms");return $.each(t.find(".req"),(function(t,n){e+=function(e){var t=0,n=e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var o=e.val().replace(" ","");e.val(o)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.val())&&e.val()!=e.attr("data-value")?r(e):(t++,a(e))}else""==e.val()||e.val()==e.attr("data-value")?(t++,a(e)):r(e);return"checkbox"==e.attr("type")&&(1==e.prop("checked")?e.removeClass("err").parent().removeClass("err"):(t++,e.addClass("err").parent().addClass("err"))),e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(t++,a(e))),e.hasClass("pass-2")&&(n.find(".pass-1").val()!=n.find(".pass-2").val()?a(e):r(e)),t}($(this))})),0==e&&(function(e){e.find(".form__generalerror").hide().html("")}(t),null!=n&&""!=n?(function(e){$(".popup").hide(),popupOpen("message."+e,"")}(n),!1):void 0)}));var t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};if(t.any(),location.hash){var n=location.hash.replace("#","");$(".popup-"+n).length>0?popupOpen(n):$("div."+n).length>0&&$("body,html").animate({scrollTop:$("div."+n).offset().top},500,(function(){}))}$(".wrapper").addClass("loaded"),t.iOS();let o=document.querySelector(".icon-menu"),s=document.querySelector("body"),l=document.querySelector(".menu__body");o&&o.addEventListener("click",(function(){o.classList.toggle("active"),s.classList.toggle("lock"),l.classList.toggle("active")}))})();